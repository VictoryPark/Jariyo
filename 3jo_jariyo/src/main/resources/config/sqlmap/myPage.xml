<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jariyo.repository.mapper.MyPageMapper"> <!-- 루트태그 -->

	<resultMap type="Member" id="memberMap">
		<result column="no" property="no"/>
		<result column="id" property="id"/>
		<result column="name" property="name"/>
		<result column="email" property="email"/>
		<result column="password" property="password"/>
		<result column="phone_no" property="phoneNo"/>
		<result column="road_addr" property="roadAddr"/>
		<result column="detail_addr" property="detailAddr"/>
		<result column="post_no" property="postNo"/>
		<result column="position_x" property="positionX"/>
		<result column="position_y" property="positionY"/>
		<result column="birth_date" property="birthDate"/>
		<result column="team_name" property="teamName"/>
		<result column="profile_img_path" property="profileImgPath"/>
		<result column="profile_img_name" property="profileImgName"/>
		<result column="log_on" property="logOn"/>
	</resultMap>
	
	<resultMap type="TeamMatching" id="teamMatchingMap">
		<result column="board_no" property="boardNo"/>
		<result column="writer_id" property="writerId"/>
		<result column="title" property="title"/>
		<result column="content" property="content"/>
		<result column="play_date" property="playDate"/>
		<result column="team_name" property="teamName"/>
		<result column="kindof_game" property="kindofGame"/>
		<result column="area" property="area"/>
		<result column="ave_age" property="aveAge"/>
		<result column="place_name" property="placeName"/>
		<result column="reg_date" property="regDate"/>
		<result column="complete" property="complete"/>
	</resultMap>
	
	<resultMap type="ManGather" id="manGatherMap">
		<result column="board_no" property="boardNo"/>
		<result column="writer_id" property="writerId"/>
		<result column="kindof_game" property="kindofGame"/>
		<result column="play_date" property="playDate"/>
		<result column="area" property="area"/>
		<result column="title" property="title"/>
		<result column="content" property="content"/>
		<result column="team_name" property="teamName"/>
		<result column="ave_age" property="aveAge"/>
		<result column="place_addr" property="placeAddr"/>
		<result column="reg_date" property="regDate"/>
		<result column="complete" property="complete"/>
	</resultMap>
	
	<resultMap type="ManVolun" id="manVolunMap">
		<result column="board_no" property="boardNo"/>
		<result column="writer_id" property="writerId"/>
		<result column="title" property="title"/>
		<result column="content" property="content"/>
		<result column="kindof_game" property="kindofGame"/>
		<result column="career" property="career"/>
		<result column="area" property="area"/>
		<result column="reg_date" property="regDate"/>
	</resultMap>
	
	<!-- 회원정보 수정 -->
	<update id="updateMyInfo" parameterType="Member">
		update jariyo_member
		   set id = #{id},
		       name = #{name},
		       email = #{email},
		       password = #{password},
		       phone_no = #{phoneNo},
		       post_no = #{postNo},
		       road_addr = #{roadAddr},
		       detail_addr = #{detailAddr},
		       position_x = #{positionX},
		       position_y = #{positionY},
		       birth_date = #{birthDate},
		       team_name = #{teamName},
		       profile_img_real = #{profileImgReal},
		       profile_img_sys = #{profileImgSys}
		 where id = #{id}
	</update>
	
	<!-- 내가 작성한 경기매칭 게시글 -->
	<select id="selectMyTeamMatching" parameterType="string" resultMap="teamMatchingMap">
		select title, place_name, play_date
		  from jariyo_matching
		 where writer_id = #{writerId}
	</select>
	
	<!-- 내가 작성한 용병모집 게시글 -->
	<select id="selectMyManGather" parameterType="string" resultMap="manGatherMap">
		select title, team_name, play_date
		  from jariyo_mangather
		 where writer_id = #{writerId}
	</select>
	
	<!-- 내가 작성한 용병신청 게시글 -->
	<select id="selectMyManVolun" parameterType="string" resultMap="manVolunMap">
		select title, area, reg_date
		  from jariyo_manvolunteer
		 where writer_id = #{writerId}
	</select>
</mapper>